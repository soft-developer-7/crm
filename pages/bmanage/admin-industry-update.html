{% extends "base-admin.html" %}
{% load static %}

{% block title %}Update industry{% endblock%}
{% block page_heading %}Update Industry{% endblock%}
{% block content %}

{% if messages %}
<div class="alert alert-danger" role="alert">
  <ul class="text-center">
    {% for message in messages%}
      <li> {{message}} </li>
    {% endfor%}
    </ul>
</div>
{% endif %}

	<div class="row mb-3">
		<div class="col-lg-4">
			<div class="card mb-3">
				<div class="card-body shadow">
					<form method="POST" action="/admin_industry_update_form" enctype="multipart/form-data">
					{% csrf_token %}
                    <input type="text" name="id" value="{{id}}" hidden required />
					<label>Industry Image/Logo</label><br>
					<br><br>
						
						<input id="banner_photo" type="file" name="photo" value="" accept="image/jpeg,image/png" />
					<br><br>

                <a href="{{photo}}" target="_blank"><img  class="mb-3 mt-4" src="{{photo}}" alt="No image" width="160" height="160"></a>
						<br>Current Banner Photo<br>
				</div>				
			</div>			
			
		</div>
		
		
	<div class="col-lg-8">
		<div class="row">
			<div class="col">		
				
					<div class="card shadow mb-3">
						<div class="card-header py-3">
						<p class="text-primary m-0 font-weight-bold">Industry details</p>
						</div>
					<div class="card-body">
					
					<div class="form-row">
						
						<div class="col">
							<div class="form-group">
								<label ><strong>1. Industry name</strong></label>
								<input class="form-control" type="text" name="name" value="{{name}}" minlength="4" maxlength="300" required> 
								</div>
						</div>
						</div>

					<div class="form-row">
						
					<div class="col">
						<div class="form-group">
							<label ><strong>2. Owner name</strong></label>
							<input class="form-control" type="text"  name="owner" value="{{owner}}"  minlength="4" maxlength="200" required>
						</div>
					</div>
						
				</div>
						
						
						
			<div class="form-row">
				<div class="col">
					<div class="form-group"><label>
						<strong>3. Email ID</strong></label>
						<input class="form-control" type="email" name="email" value="{{email}}"  minlength="4" maxlength="200" required >
					</div>
				</div>




                <div class="col">
					<div class="form-group"><label>
						<strong>4. Mobile number</strong></label>
						<input class="form-control" type="tel" name="mobile" value="{{mobile}}"  minlength="10" maxlength="10" required >
					</div>
				</div>


				</div>


						
									
			<div class="form-row">
				
				<div class="col">
				<div class="form-group"><label >
					<strong>5. Address</strong></label>
					<textarea class="form-control" name="address"  minlength="4" maxlength="200" required rows="5">{{address}}</textarea>
						</div>
				</div>
				
			

				</div>	
						
						
			<div class="form-group">
				<button class="btn btn-primary btn-sm" type="submit">Submit</button>
			</div>
					
		</div>
	</div>
</form>
</div>
</div>
</div>
</div>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


<script>


    $("#banner_photo").change(function() {
    var imgPath = $(this)[0].value;
    var extn = imgPath.substring(imgPath.lastIndexOf('.') + 1).toLowerCase();
    var size=Math.round((this.files[0].size)/1024);
    if(extn == "jpg" || extn == "jpeg" || extn == "png")
        {
            if(size<1024)
                {
                    pass;
                }
            else
                {
                    $("#banner_photo").val('');

					swal({
						title: "Oops !",
						text: "Image size is larger than 1MB !",
						icon: "error",
						button: "ok",
						});
                    
                }
        }

    else
        {
            
			$("#banner_photo").val('');

			swal({
				title: "Oops !",
				text: "Image format must be in JPG/JPEG/PNG !",
				icon: "error",
				button: "ok",
				});
                    
                
        }
    });



</script>

{% endblock %}