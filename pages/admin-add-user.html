{% extends "base-admin.html" %}
{% load static %}

{% block title %}Add user{% endblock%}
{% block page_heading %}Add User{% endblock%}
{% block content %}

{% if messages %}
<div class="alert alert-danger" role="alert">
  <ul class="text-center">
    {% for message in messages%}
      <li> {{message}} </li>
    {% endfor%}
    </ul>
</div>
{% endif %}

	<div class="row mb-3">
		<div class="col-lg-4">
			<div class="card mb-3">
				<div class="card-body shadow">
					<form method="POST" action="/admin_new_user_profile_form" enctype="multipart/form-data">
					{% csrf_token %}
					<label>Profile photo</label><br>
					<small>Leave it blank for default Avatar </small><br><br>
						
						<input id="profile_photo" type="file" name="photo" value="" accept="image/jpeg,image/png" />
					<br><br>

				</div>
			</div>
		</div>
		
		
	<div class="col-lg-8">
		<div class="row">
			<div class="col">		
				
					<div class="card shadow mb-3">
						<div class="card-header py-3">
						<p class="text-primary m-0 font-weight-bold">Basic details</p>
						</div>
					<div class="card-body">
					
					<div class="form-row">
						
						<div class="col">
							<div class="form-group">
								<label ><strong>Email ID</strong></label>
								<input class="form-control" type="email" name="email" minlength="4" maxlength="100" required> 
								</div>
						</div>
						
						
					<div class="col">
						<div class="form-group">
							<label ><strong>Mobile Number</strong></label>
							<input class="form-control" type="tel"  name="mobile"  minlength="10" maxlength="10" required>
						</div>
					</div>
						
				</div>
						
						
						
			<div class="form-row">
				<div class="col">
					<div class="form-group"><label>
						<strong>Full Name</strong></label>
						<input class="form-control" type="text" name="name"  minlength="4" maxlength="100" required >
					</div>
				</div>
				
				
				<div class="col">
				<div class="form-group"><label >
					<strong>Password</strong></label>
					<input class="form-control" type="text"  minlength="4" maxlength="50" name="password" required></div>
				</div>
				
			</div>
						
									
			<div class="form-row">
				
				<div class="col">
				<div class="form-group"><label >
					<strong>Address</strong></label>
					<textarea class="form-control" name="address"  minlength="4" maxlength="100" required></textarea>
						</div>
				</div>
				
			

			<div class="col">
				<div class="form-group"><label >
					<strong>Post (Role)</strong></label>
					
					<select class="form-control" name="role" required>

						 
						<option value="user" selected="" >User</option>
						
						<option value="developer" >Developer</option>

						<option value="manager">Manager</option>
					</select>
					
					</div>
				</div>
				</div>	
						
						
			<div class="form-group">
				<button class="btn btn-primary btn-sm" type="submit">Submit</button>
			</div>
					
		</div>
	</div>
</form>
</div>
</div>
</div>
</div>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


<script>

    $("#profile_photo").change(function() {
    var imgPath = $(this)[0].value;
    var extn = imgPath.substring(imgPath.lastIndexOf('.') + 1).toLowerCase();
    var size=Math.round((this.files[0].size)/1024);
    if(extn == "jpg" || extn == "jpeg" || extn == "png")
        {
            if(size<1024)
                {
                    pass;
                }
            else
                {
                    $("#profile_photo").val('');

					swal({
						title: "Oops !",
						text: "Image size is larger than 1MB !",
						icon: "error",
						button: "ok",
						});
                    
                }
        }

    else
        {
            
			$("#profile_photo").val('');

			swal({
				title: "Oops !",
				text: "Image format must be in JPG/JPEG/PNG !",
				icon: "error",
				button: "ok",
				});
                    
                
        }
    });



</script>

{% endblock %}